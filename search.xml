<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>清明祭奠我父</title>
      <link href="/2020/04/04/2020/%E6%B8%85%E6%98%8E%E7%A5%AD%E5%A5%A0%E6%88%91%E7%88%B6/"/>
      <url>/2020/04/04/2020/%E6%B8%85%E6%98%8E%E7%A5%AD%E5%A5%A0%E6%88%91%E7%88%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p><span style="color:green;font-size:14px">记不清这是我父离去的多少个日子了，每每聆听佛音，都让儿不禁思念起至亲的我父。</p></blockquote><hr /><p>这么久以来，我都梦不到父亲了，有时深夜醒来，细细从梦中找寻父亲的影子，每次总能找到他来到儿的梦中，再深刻看清梦中的父亲，总让儿不自禁因思念往事而泪水纵流。</p><p>不是父亲不再来到儿的梦中，只是这么久的日子，我还是把对他的思念与愧疚放下了。</p><p>父亲离去的十个多月内，我剃去烦恼丝，一心修佛。后来每每心中转过一念父亲的影子，儿都不敢去停留一秒，深恐再次坠入无边悲伤境地。现如今，孩儿更懂得如何爱戴母亲，生活的琐事不再是烦心事，一点一滴都让孩儿珍惜备至，甚至此刻儿都在想着母亲。儿这一生乃至下一生都报不完您二老的恩情。</p><p>儿多想终日陷入无尽的思父之凉也不愿享受生活之乐，想我如今连在最重要日子为父烧去一炷香一些纸钱都没，儿又开始将一把枷锁扣在心门，放不开也永远放不过自己。曾经面临着抉择，是停留，是迎接，是沉沦？终究这一生已无一人再来指点一句，孩儿小心翼翼的生活，终是挣不脱生活的苦涩。</p><p>把生活演奏的欢乐必然流逝的太快，这一生没能与父亲拥抱过一次，甚至没能说过一句安慰的话，有的只是些言不由衷的叛逆。如果在您去前，儿能送您最后一程，我会将您的手紧紧贴在儿的脸庞。</p><p>在您去的十一个月后，儿心灵几经变化，终能将对您的一腔悲情暂且放下，终于放过自己，接受新生。</p><p>至亲的我父，儿对您的思念总是在不经意间，虽然总是在心里刻意的回避，可偶尔看到父亲的照片，穿过的衣服，用过的腰带，还有那颗玛瑙，有时候在路上看到像极了父亲的老人的背影，甚至在别人讲述着他们的父亲是多么的辉煌时，总能触动心灵最柔软湿润的角落，拉扯出层层涟漪，久久不能平静。</p><p>愿父安息</p><hr /><blockquote><p><span style="color:gray;font-size:14px">关注公众号「码农日志」，每天带你发车。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 回忆录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我是流浪的人</title>
      <link href="/2020/03/24/2020/%E6%88%91%E6%98%AF%E6%B5%81%E6%B5%AA%E7%9A%84%E4%BA%BA/"/>
      <url>/2020/03/24/2020/%E6%88%91%E6%98%AF%E6%B5%81%E6%B5%AA%E7%9A%84%E4%BA%BA/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p><span style="color:green;font-size:14px">有时候莫名的孤独，强烈的执念，将现实中的我拉向回忆。</p></blockquote><hr /><p>2020庚子年，我在老婆家过年，这一呆就是俩月。时至今日，我已回京数日，尚在隔离期。</p><p>老婆怀孕已12周，两天前告诉我，要有一个孩子跟她姓，我内心非常抵触。抵触的不是跟谁姓的问题，而是因为这不是她的主意，却不告诉我这是岳父岳母的意见。岳父一直催着让我辞掉北京的这份工作，回县城老家上班。这次过年，催的更急了，刚回京一周就接到两次电话。</p><p>自从高中起，父亲的身体就每况愈下，那时候的我每日无心读书，整天整夜上网吧。清晰记得高考完的那天晚上在网吧阳台上，看着乌云密布的夜空，内心五味陈杂，那时候知道后悔了。那个暑假我在家抱两个月大的侄子两个多月，后来不知怎地就又回去复读。复习的这一年，我发奋的读书，大逆不道的将父亲骂我的话写在课桌上，上学期座位只选第一排第一个，下学期座位都在前三排靠过道，制定没分每秒清晰的计划，没完成的时候就吃饭时走路时睡觉前全部清掉，印象最深刻的是吃饭的时候思考着数学题思路，无数个睡梦中计算着没有计算完的题目…</p><p>后来，高四的成绩终有不负，从上年连二专都不挂的分数上升到了二本，接近一本的好成绩。最高兴的要数父亲了，老张家终于要出一个大学生了，而这，也是我的骄傲。从此，我深信精诚所至金石为开，因为，这一年我都只有一个执念，给父亲一个证明，我还凭良心。可是这些美好已经太晚，父亲的身体大不如从前了。现在想来，从2008年医生告诉我父亲还有最多8年的寿命时，我就应该清醒，过去的几年我浪费的起，可是父亲的许多心愿未了，他等不起。不过，如今我已选择原谅那时16岁的我。</p><p>到了大学，父亲的身体更加不好了。农历2014年腊月二十五/阳历2015年2月13日，晚22时前后，还在昆山东阳精密制造厂打寒假工的我接到哥从老家打来的电话，父亲不行了。瞬间犹如晴天霹雳，我赶紧收拾行李，立刻回家。车上的我早已泣不成声，从来没想到前两日的电话竟是与我父的最后一次对话，那时候我明显听到父亲说话的力气，如喉咙被满满阻塞的哽咽的语气对我说：好，别管我。儿当时听出父亲的状况，心中却有一种声音劝自己无论如何也要打完工回去，只是默祈父亲如以往平安。我又回了一句：我没事，别挂念我，我过年可能不回家了。然后父亲喉咙深处听起来一下子多了更多的哽咽，吃力的回答：好。这一个字，我一辈子不能忘，每每想起，思绪都穿透时光而来，折磨着我的良心，如刀子，鞭子，深深的抽打着。父亲临去前都没有将儿唤回床侧，我恨自己也恨苍天，思绪交错如上弦之箭，我毫不躲避的让它深深插在心窝。这是一个死结，我挣不脱也逃不过，永远也不能原谅自己。</p><p>前些日子跟老妈视频，她告诉我又想我了，一种许久没能让母亲见上我一面的愧疚感油然而生，瞬间掩不住的眼泪就来了。</p><p>种种回忆交织，如果连老婆都没有跟我站在同一立场，你说，我是否是一个孤独的人?</p><hr /><blockquote><p><span style="color:gray;font-size:14px">关注公众号「码农日志」，每天带你发车。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 回忆录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript内存空间及this关键词详解</title>
      <link href="/2019/05/05/2019/JavaScript%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E5%8F%8Athis%E5%85%B3%E9%94%AE%E8%AF%8D%E8%AF%A6%E8%A7%A3/"/>
      <url>/2019/05/05/2019/JavaScript%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E5%8F%8Athis%E5%85%B3%E9%94%AE%E8%AF%8D%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><hr /><p>理解JS内存空间，对于我们理解很多题目大有帮助，特别是一些面试题目。例如下面这个题目：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var a = 20;</span><br><span class="line">var b = a;</span><br><span class="line">b = 30;</span><br><span class="line">// 这时a的值是多少？</span><br><span class="line"></span><br><span class="line">var m = &#123; a: 10, b: 20 &#125;</span><br><span class="line">var n = m;</span><br><span class="line">n.a = 15;</span><br><span class="line">// 这时m.a的值是多少</span><br></pre></td></tr></table></figure><p>很多朋友搞不清楚。</p><p>还有一个this方面的面试题目。大体如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">   var a = 20;</span><br><span class="line">    var devezhang = &#123;</span><br><span class="line">        a: 10,</span><br><span class="line">        c: this.a + 20,</span><br><span class="line">        fn: function () &#123;</span><br><span class="line">            return this.a;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    console.log(devezhang.c);</span><br><span class="line">    console.log(devezhang.fn());</span><br><span class="line">var haoobj=devezhang.fn;</span><br><span class="line">console.log(haoobj())</span><br></pre></td></tr></table></figure><p>大家看看上面会输出什么？下面我就和大家一起来剖析一下这两个问题。这两个问题涉及到JS内存空间及this关键词的相关知识，通过普及这些知识，来顺便解释一下这两个题目。</p><h2 id="js内存空间"><a class="markdownIt-Anchor" href="#js内存空间"></a> JS内存空间</h2><hr /><p>下面我们先来理一下一个概念。</p><h3 id="栈与堆"><a class="markdownIt-Anchor" href="#栈与堆"></a> 栈与堆</h3><hr /><p>其实JS中没有严格意义区分栈内存和堆内存。但是我在理解的时候还是把他们分开了！我个人是如下理解的：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">变量对象与基础数据类型（例如：Undefined、Null、Boolean、Number、String）都放在栈（stack）里</span><br><span class="line">引用数据类型，比如：对象，数组等一般都放在堆（heap）里</span><br></pre></td></tr></table></figure><p>例如如下代码：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a1 = 0;   // 变量对象</span><br><span class="line">var a2 = 'this is string'; // 变量对象</span><br><span class="line">var a3 = null; // 变量对象</span><br><span class="line"></span><br><span class="line">var b = &#123; m: 20 &#125;; // 变量b存在于变量对象中也可以理解为栈，&#123;m: 20&#125; 作为对象存在于堆内存中</span><br><span class="line">var c = [1, 2, 3]; // 变量c存在于变量对象中也可以理解为栈，[1, 2, 3] 作为对象存在于堆内存中</span><br></pre></td></tr></table></figure><p>基础数据类型也可以理解为栈里的数据都是按值访问，我们可以直接操作保存在变量中的实际的值。但是在堆内存中，我们不能直接操作对象的堆内存空间。在操作堆里的对象时，实际上是在操作对象的引用而不是实际的对象。因此，引用类型的值都是按引用访问的。我们可以地把引用理解为保存在变量对象中的一个地址，这个地址是和堆内存的值是相关联的。</p><p>那么上面的面试题目我们可以用如下图来解释：</p><p><img src="/img/loading.gif" class="lazyload" data-src="https://res.cloudinary.com/devezhang/image/upload/v1573031893/blog/2019-05-05-1_ghwrw2.png"  alt="码农日志" /></p><p>因此a还是20</p><p>第二个题目：</p><p><img src="/img/loading.gif" class="lazyload" data-src="https://res.cloudinary.com/devezhang/image/upload/v1573031893/blog/2019-05-05-2_mesw7b.png"  alt="码农日志" /></p><p>复制之后是引用的复制。修改了堆里面的对象之后，n和m对应的是同一个对象，因此输出m.a会变成15</p><h2 id="关于this"><a class="markdownIt-Anchor" href="#关于this"></a> 关于this</h2><hr /><p>关于this的解释，我前面也有过一篇文章，虽然写了一点点东西，但是写的比较浅。下面我就详细介绍一下this</p><p>函数中的this是难点和重点，我今天主要讲讲函数中的this</p><p>我对函数调用总结了如下三点：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1、this的指向，是在函数被调用的时候确定的</span><br><span class="line"></span><br><span class="line">2、函数调用时，看其是否被某个对象所拥有，假如被某个对象拥有，那么函数中的this，指向的是其拥有的对象。</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"></span><br><span class="line">   devezhang.fn()</span><br><span class="line"></span><br><span class="line">fn()函数被devezhang所拥有，那么fn里面的this，指向的是devezhang</span><br><span class="line"></span><br><span class="line">3、如果函数独立调用，那么该函数内部的this，则指向undefined。在非严格模式中，当this指向undefined时，它会被自动指向全局对象。</span><br><span class="line"></span><br><span class="line">例如haoobj() 是独立调用，那么haoobj函数里面的this会指向undefined，在非严格模式下面指向的是全局对象。</span><br></pre></td></tr></table></figure><p>通过上面的三条结论，我们对于函数的调用应该很清楚了，我们再来看下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">devezhang.c</span><br></pre></td></tr></table></figure><p>这个不是我们上面所说的函数情况，因此，还有一个结论：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">当devezhang 在全局声明时，无论devezhang.c在什么地方调用，这里的this都指向全局对象，</span><br><span class="line"></span><br><span class="line">而当devezhang在函数环境中声明时，这个this指向undefined，在非严格模式下，会自动转向全局对象。</span><br></pre></td></tr></table></figure><p>我们再来看下上面的题目吧：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">console.log(devezhang.c);</span><br><span class="line">console.log(devezhang.fn());</span><br><span class="line">var haoobj=devezhang.fn;</span><br><span class="line">console.log(haoobj())</span><br></pre></td></tr></table></figure><p>通过上面的结论，我们可以解释：</p><h3 id="consolelogdevezhangc"><a class="markdownIt-Anchor" href="#consolelogdevezhangc"></a> console.log(devezhang.c)</h3><p>devezhang是全局声明devezhang.c在非严格模式下面指向的是window全局对象，因此：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.a + 20</span><br></pre></td></tr></table></figure><p>输出40</p><h3 id="consolelogdevezhangfn"><a class="markdownIt-Anchor" href="#consolelogdevezhangfn"></a> console.log(devezhang.fn());</h3><p>fn()是devezhang对象下面的函数，这里this指向的是devezhang，因此输出的是10</p><h3 id="consoleloghaoobj"><a class="markdownIt-Anchor" href="#consoleloghaoobj"></a> console.log(haoobj())</h3><p>haoobj()函数是独立调用，指向的是全局，因此输出20</p><h2 id="小结"><a class="markdownIt-Anchor" href="#小结"></a> 小结</h2><hr /><p>JS内存空间，关键理清堆里面的数据，在操作堆里的对象时，实际上是在操作对象的引用而不是实际的对象。</p><p>this关键词要理清函数调用，是独立调用还是被某个对象所调用。独立调用在非严格模式下面指向的是全局，被某个对象所调用，this指向的是某个对象！</p><hr /><blockquote><p><span style="color:gray;font-size:14px">关注公众号「码农日志」，每天带你发车。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker学习笔记之用法与配置</title>
      <link href="/2018/12/01/2018/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E7%94%A8%E6%B3%95%E4%B8%8E%E9%85%8D%E7%BD%AE/"/>
      <url>/2018/12/01/2018/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%8B%E7%94%A8%E6%B3%95%E4%B8%8E%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p><span style="color:green;font-size:14px">希望这篇日志通过记录自己在工作中用到的要点，达到对知识的梳理。当然，如果能对大家有帮助就太好了。</p></blockquote><hr /><h2 id="基础用法"><a class="markdownIt-Anchor" href="#基础用法"></a> 基础用法</h2><p>Docker镜像包括官方镜像和私有镜像。因为国情的原因，推荐通过阿里云mirror.aliyuncs.com进行镜像加速，镜像保持和官方一致，关键是速度快，此镜像库仅含有流行的公有镜像。<br />加速方法：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo vim /etc/docker/daemon.json <span class="comment"># 修改docker配置文件daemon.json</span></span></span><br><span class="line">&#123; </span><br><span class="line">    "defult-runtime": "nvidia",</span><br><span class="line">        "runtimes": &#123;</span><br><span class="line">            "nvidia": &#123;</span><br><span class="line">            "path": "/usr/bin/nvidia-container-runtime",</span><br><span class="line">            "runtimeArgs": []</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, </span><br><span class="line">    "registry-mirrors":["https://dz6y5itv.mirror.aliyuncs.com"],</span><br><span class="line">    "insecure-registries":["192.167.8.128:6000"]</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo service docker restart <span class="comment"># 修改后需重启docker</span></span></span><br></pre></td></tr></table></figure><p>上面参数的一些解释：</p><blockquote><p>default-runtime – 指定了运行环境为nvidia，因为在容器内使用显卡资源的话，必须安装使用nvidia-docker。</p><p>runtimes – 指定了运行环境的路径和参数。</p><p>registry-mirrors – 指定docker仓库加速器的地址，这一步必须配置。</p><p>insecure-registries – 指定公司自建的私有仓库地址。</p></blockquote><h3 id="常用命令及帮助"><a class="markdownIt-Anchor" href="#常用命令及帮助"></a> 常用命令及帮助</h3><p>有了上边的基础配置，就可以欢快的使用Docker了，工具的使用离不开对操作命令的熟悉和实操，让我们开始吧。</p><p>搜索镜像源中的ubuntu镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker search ubuntu</span></span><br></pre></td></tr></table></figure><p>拉取镜像源中的ubuntu镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker pull ubuntu</span></span><br></pre></td></tr></table></figure><p>推送本地镜像到镜像源</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker push </span></span><br><span class="line">192.167.8.128:6000/ubuntu:16.04 # 私有源已配置</span><br></pre></td></tr></table></figure><p>查看本地所有镜像列表</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker images</span></span><br></pre></td></tr></table></figure><p>创建容器（推荐使用docker-compose）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker run -it ubuntu:16.04 /bin/bash</span></span><br><span class="line">docker run -- 创建并运行一个容器</span><br><span class="line">it -- 交互模式启动并分配一个伪终端</span><br><span class="line">ubuntu:16.04 -- 使用 ubuntu 基础镜像16.04</span><br><span class="line">/bin/bash -- 运行命令 bash shell（容器的伪终端如果没有运行命令的话，容器会立即停止运行，创建容器时必须输入启动命令）</span><br></pre></td></tr></table></figure><p>查看并搜索当前系统所有ubuntu容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker ps -a | grep ubuntu</span></span><br></pre></td></tr></table></figure><p>查看当前正在运行的容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker ps</span></span><br></pre></td></tr></table></figure><p>dcoker 帮助命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker <span class="comment"># docker 命令帮助</span></span></span><br><span class="line">Commands:</span><br><span class="line">attach Attach to a running container # 当前 shell 下 attach 连接指定运行镜像</span><br><span class="line">build Build an image from a Dockerfile # 通过 Dockerfile 定制镜像</span><br><span class="line">commit Create a new image from a container's changes # 提交当前容器为新的镜像</span><br><span class="line">cp Copy files/folders from the containers filesystem to the host path</span><br><span class="line"><span class="meta">#</span><span class="bash"> 从容器中拷贝指定文件或者目录到宿主机中</span></span><br><span class="line">create Create a new container # 创建一个新的容器，同 run，但不启动容器</span><br><span class="line">diff Inspect changes on a container's filesystem # 查看 docker 容器变化</span><br><span class="line">events Get real time events from the server # 从 docker 服务获取容器实时事件</span><br><span class="line">exec Run a command in an existing container # 在已存在的容器上运行命令</span><br><span class="line">export Stream the contents of a container as a tar archive</span><br><span class="line"><span class="meta">#</span><span class="bash"> 导出容器的内容流作为一个 tar 归档文件[对应 import ]</span></span><br><span class="line">history Show the history of an image # 展示一个镜像形成历史</span><br><span class="line">images List images # 列出系统当前镜像</span><br><span class="line">import Create a new filesystem image from the contents of a tarball</span><br><span class="line"><span class="meta">#</span><span class="bash"> 从tar包中的内容创建一个新的文件系统映像[对应 <span class="built_in">export</span>]</span></span><br><span class="line">info Display system-wide information # 显示系统相关信息</span><br><span class="line">inspect Return low-level information on a container # 查看容器详细信息</span><br><span class="line">kill Kill a running container # kill 指定 docker 容器</span><br><span class="line">load Load an image from a tar archive # 从一个 tar 包中加载一个镜像[对应 save]</span><br><span class="line">login Register or Login to the docker registry server</span><br><span class="line"><span class="meta">#</span><span class="bash"> 注册或者登陆一个 docker 源服务器</span></span><br><span class="line">logout Log out from a Docker registry server # 从当前 Docker registry 退出</span><br><span class="line">logs Fetch the logs of a container # 输出当前容器日志信息</span><br><span class="line">port Lookup the public-facing port which is NAT-ed to PRIVATE_PORT</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看映射端口对应的容器内部源端口</span></span><br><span class="line">pause Pause all processes within a container # 暂停容器</span><br><span class="line">ps List containers # 列出容器列表</span><br><span class="line">pull Pull an image or a repository from the docker registry server</span><br><span class="line"><span class="meta">#</span><span class="bash"> 从docker镜像源服务器拉取指定镜像或者库镜像</span></span><br><span class="line">push Push an image or a repository to the docker registry server</span><br><span class="line"><span class="meta">#</span><span class="bash"> 推送指定镜像或者库镜像至docker源服务器</span></span><br><span class="line">restart Restart a running container # 重启运行的容器</span><br><span class="line">rm Remove one or more containers # 移除一个或者多个容器</span><br><span class="line">rmi Remove one or more images</span><br><span class="line"><span class="meta">#</span><span class="bash"> 移除一个或多个镜像[无容器使用该镜像才可删除，否则需删除相关容器才可继续或 -f 强制删除]</span></span><br><span class="line">run Run a command in a new container</span><br><span class="line"><span class="meta">#</span><span class="bash"> 创建一个新的容器并运行一个命令</span></span><br><span class="line">save Save an image to a tar archive # 保存一个镜像为一个 tar 包[对应 load]</span><br><span class="line">search Search for an image on the Docker Hub # 在 docker hub 中搜索镜像</span><br><span class="line">start Start a stopped containers # 启动容器</span><br><span class="line">stop Stop a running containers # 停止容器</span><br><span class="line">tag Tag an image into a repository # 给源中镜像打标签</span><br><span class="line">top Lookup the running processes of a container # 查看容器中运行的进程信息</span><br><span class="line">unpause Unpause a paused container # 取消暂停容器</span><br><span class="line">version Show the docker version information # 查看 docker 版本号</span><br><span class="line">wait Block until a container stops, then print its exit code</span><br><span class="line"><span class="meta">#</span><span class="bash"> 截取容器停止时的退出状态值</span></span><br><span class="line">Run 'docker COMMAND --help' for more information on a command.</span><br></pre></td></tr></table></figure><p>查看当前系统docker信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker info <span class="comment"># 容器和镜像个数以及磁盘使用系统信息</span></span></span><br></pre></td></tr></table></figure><p>删除一个或多个镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker rmi 镜像id或名字</span></span><br></pre></td></tr></table></figure><p>删除一个或多个容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker rm 容器id或名字</span></span><br></pre></td></tr></table></figure><p>docker run命令详解</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo docker run --<span class="built_in">help</span></span></span><br><span class="line">Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...] Run a command in a new container</span><br><span class="line">-a, --attach=[] Attach to stdin, stdout or stderr.</span><br><span class="line">-c, --cpu-shares=0 CPU shares (relative weight) # 设置 cpu 使用权重</span><br><span class="line">--cap-add=[] Add Linux capabilities</span><br><span class="line">--cap-drop=[] Drop Linux capabilities</span><br><span class="line">--cidfile="" Write the container ID to the file # 把容器 id 写入到指定文件</span><br><span class="line">--cpuset="" CPUs in which to allow execution (0-3, 0,1) # cpu 绑定</span><br><span class="line">-d, --detach=false Detached mode: Run container in the background, print new container id # 后台运行容器</span><br><span class="line">--device=[] Add a host device to the container (e.g. --device=/dev/sdc:/dev/xvdc) </span><br><span class="line">--dns=[] Set custom dns servers # 设置 dns --dns-search=[] Set custom dns search domains # 设置 dns 域搜索</span><br><span class="line">-e, --env=[] Set environment variables # 定义环境变量</span><br><span class="line">--entrypoint="" Overwrite the default entrypoint of the image # ？</span><br><span class="line">--env-file=[] Read in a line delimited file of ENV variables # 从指定文件读取变量值</span><br><span class="line">--expose=[] Expose a port from the container without publishing it to your host # 指定对外提供服务端口</span><br><span class="line">-h, --hostname="" Container host name # 设置容器主机名</span><br><span class="line">-i, --interactive=false Keep stdin open even if not attached # 保持标准输出开启即使没有 attached</span><br><span class="line">--link=[] Add link to another container (name:alias) # 添加链接到另外一个容器</span><br><span class="line">--lxc-conf=[] (lxc exec-driver only) Add custom lxc options</span><br><span class="line">--lxc-conf="lxc.cgroup.cpuset.cpus = 0,1" </span><br><span class="line">-m, --memory="" Memory limit (format: &lt;number&gt;&lt;optional unit&gt;, where unit = b, k, m or g) # 内存限制</span><br><span class="line">--name="" Assign a name to the container # 设置容器名</span><br><span class="line">--net="bridge" Set the Network mode for the container # 设置容器网络模式 'bridge': creates a new network stack for the container on the docker bridge 'none': no networking for this container 'container:&lt;name|id&gt;': reuses another container network stack 'host': use the host network stack inside the container. Note: the host mode gives the container full access to local system services such as D-bus and is therefore considered insecure.</span><br><span class="line">-P, --publish-all=false Publish all exposed ports to the host interfaces # 自动映射容器对外提供服务的端口</span><br><span class="line">-p, --publish=[] Publish a container's port to the host' # 指定端口映射</span><br><span class="line">    format: ip:hostPort:containerPort | ip::containerPort | hostPort:containerPort (use 'docker port' to see the actual mapping) </span><br><span class="line">--privileged=false Give extended privileges to this container # 提供更多的权限给容器</span><br><span class="line">--restart="" Restart policy to apply when a container exits (no, on-failure[:max-retry], always) </span><br><span class="line">--rm=false Automatically remove the container when it exits (incompatible with -d) # 如果容器退出自动移除和 -d 选项冲突</span><br><span class="line">--security-opt=[] Security Options</span><br><span class="line">--sig-proxy=true Proxify received signals to the process (even in non-tty mode). SIGCHLD is not proxied.</span><br><span class="line">-t, --tty=false Allocate a pseudo-tty # 分配伪终端 -u, --user="" Username or UID # 指定运行容器的用户 uid 或者用户名</span><br><span class="line">-v, --volume=[] Bind mount a volume (e.g., from the host: -v /host:/container, from docker: -v /container) # 挂载卷</span><br><span class="line">--volumes-from=[] Mount volumes from the specified container(s) # 从指定容器挂载卷</span><br><span class="line">-w, --workdir="" Working directory inside the container # 指定容器工作目录</span><br></pre></td></tr></table></figure><p>启动和停止容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker start 容器id或名字</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker stop  容器id或名字</span></span><br></pre></td></tr></table></figure><p>提交指定容器为镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]<span class="comment"># 提交指定容器为镜像</span></span></span><br><span class="line">-a, --author="" Author (e.g., "John Hannibal Smith hannibal@a-team.com ")</span><br><span class="line">-m, --message="" Commit message</span><br><span class="line">-p, --pause=true Pause container during commit</span><br></pre></td></tr></table></figure><p>查看容器或镜像的详细信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker inspect 容器或镜像的id|名字</span></span><br></pre></td></tr></table></figure><p>查看指定容器日志信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker logs 容器id或名字</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 输出指定容器日志信息</span></span><br><span class="line">-f, --follow=false Follow log output</span><br><span class="line"><span class="meta">#</span><span class="bash"> 类似 tail -f</span></span><br><span class="line">-t, --timestamps=false Show timestamps</span><br><span class="line">--tail="all" Output the specified number of lines at the end of logs (defaults to all logs)</span><br></pre></td></tr></table></figure><h2 id="四种网络模式"><a class="markdownIt-Anchor" href="#四种网络模式"></a> 四种网络模式</h2><p>docker run或者docker-compose 创建 Docker 容器时，可以用 --net 选项指定容器的网络模式，Docker 有以下 4 种网络模式：</p><blockquote><p>host 模式，使用 --net=host 指定。</p><p>container 模式，使用 --net=container:NAMEorID 指定。</p><p>none 模式，使用 --net=none 指定。</p><p>bridge 模式，使用 --net=bridge 指定，默认设置。</p></blockquote><h3 id="host模式"><a class="markdownIt-Anchor" href="#host模式"></a> host模式</h3><p>如果启动容器的时候使用 host 模式，那么这个容器将不会获得一个独立的 Network Namespace，而是和宿主机共用一个 Network Namespace。容器将不会虚拟出自己的网卡，配置自己的 IP 等，而是使用宿主机的 IP 和端口。</p><p>例如，我们在 10.10.101.105/24 的机器上用 host 模式启动一个含有 web 应用的 Docker 容器，监听 tcp 80 端口。当我们在容器中执行任何类似 ifconfig 命令查看网络环境时，看到的都是宿主机上的信息。而外界访问容器中的应用，则直接使用 10.10.101.105:80 即可，不用任何 NAT 转换，就如直接跑在宿主机中一样。</p><p>但是，容器的其他方面，如文件系统、进程列表等还是和宿主机隔离的。</p><h3 id="container模式"><a class="markdownIt-Anchor" href="#container模式"></a> container模式</h3><p>这个模式指定新创建的容器和已经存在的一个容器共享一个 Network Namespace，而不是和宿主机共享。新创建的容器不会创建自己的网卡，配置自己的 IP，而是和一个指定的容器共享 IP、端口范围等。同样，两个容器除了网络方面，其他的如文件系统、进程列表等还是隔离的。两个容器的进程可以通过 lo 网卡设备通信。</p><h3 id="none模式"><a class="markdownIt-Anchor" href="#none模式"></a> none模式</h3><p>这个模式和前两个不同。在这种模式下，Docker 容器拥有自己的 Network Namespace，但是，并不为 Docker容器进行任何网络配置。也就是说，这个 Docker 容器没有网卡、IP、路由等信息。需要我们自己为 Docker 容器添加网卡、配置 IP 等。</p><h3 id="bridge模式"><a class="markdownIt-Anchor" href="#bridge模式"></a> bridge模式</h3><p>bridge 模式是 Docker 默认的网络设置，此模式会为每一个容器分配 Network Namespace、设置 IP 等，并将一个主机上的 Docker 容器连接到一个虚拟网桥上。</p><p>当 Docker server 启动时，会在主机上创建一个名为 docker0 的虚拟网桥，此主机上启动的 Docker 容器会连接到这个虚拟网桥上。虚拟网桥的工作方式和物理交换机类似，这样主机上的所有容器就通过交换机连在了一个二层网络中。接下来就要为容器分配 IP 了，Docker 会从 RFC1918 所定义的私有 IP 网段中，选择一个和宿主机不同的IP地址和子网分配给 docker0，连接到 docker0 的容器就从这个子网中选择一个未占用的 IP 使用。</p><p>如一般 Docker 会使用 172.17.0.0/16 这个网段，并将 172.17.42.1/16 分配给 docker0 网桥（在主机上使用 ifconfig 命令是可以看到 docker0 的，可以认为它是网桥的管理接口，在宿主机上作为一块虚拟网卡使用）</p><p>推荐了解</p><p>工具docker-compose如何使用，以及如何编写高效构建镜像的dockerfile文件。</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python快速实现HTTP和FTP服务器</title>
      <link href="/2018/10/18/2018/Python%E5%BF%AB%E9%80%9F%E5%AE%9E%E7%8E%B0HTTP%E5%92%8CFTP%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2018/10/18/2018/Python%E5%BF%AB%E9%80%9F%E5%AE%9E%E7%8E%B0HTTP%E5%92%8CFTP%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="用-python-快速实现-http-服务器"><a class="markdownIt-Anchor" href="#用-python-快速实现-http-服务器"></a> 用 Python 快速实现 HTTP 服务器</h3><p>有时你需临时搭建一个简单的 Web Server，但你又不想去安装 Apache、Nginx 等这类功能较复杂的 HTTP 服务程序时。这时可以使用 Python 内建的 SimpleHTTPServer 模块快速搭建一个简单的 HTTP 服务器。</p><p>SimpleHTTPServer 模块可以把你指定目录中的文件和文件夹以一个简单的 Web 页面的方式展示出来。假设我们需要以 Web 方式共享目录 /Users/Mike/Docker，只需要以下这个命令行就可以轻松实现：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /Users/Mike/Docker</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python -m SimpleHTTPServer</span></span><br><span class="line">Serving HTTP on 0.0.0.0 port 8000 ...</span><br></pre></td></tr></table></figure><p>SimpleHTTPServer 模块默认会在 8000 端口上监听一个 HTTP 服务，这时就可以打开浏览器输入 <a href="http://IP" target="_blank" rel="noopener">http://IP</a>:Port 访问这个 Web 页面。例如类似下面的 URL：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.100.49:8000</span><br></pre></td></tr></table></figure><p>如果你需要 Web 服务有一个默认页，可以在目录下创建一个名为 index.html 的文件。如果没有默认页，那么会以列表的形式将目录中的内容显示出来。</p><p>如果默认的 8000 端口已经被占用，你想换成使用其它端口号，可以使用如下的命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python -m SimpleHTTPServer 8080</span></span><br></pre></td></tr></table></figure><h3 id="用-python-快速实现-ftp-服务器"><a class="markdownIt-Anchor" href="#用-python-快速实现-ftp-服务器"></a> 用 Python 快速实现 FTP 服务器</h3><p>有时当你想快速搭建一个 FTP 服务器来临时实现文件上传下载时，这是特别有用的。我们这里利用 Python 的 Pyftpdlib 模块可以快速的实现一个 FTP 服务器的功能。</p><p>首先安装 Pyftpdlib 模块</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo pip install pyftpdlib</span></span><br></pre></td></tr></table></figure><p>通过 Python 的 -m 选项将 Pyftpdlib 模块作为一个简单的独立服务器来运行，假设我们需要共享目录 /Users/Mike/Docker，只需要以下这个命令行就可以轻松实现：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /Users/Mike/Docker</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python -m pyftpdlib</span></span><br><span class="line">[I 2018-01-02 16:24:02] &gt;&gt;&gt; starting FTP server on :::2121, pid=7517 &lt;&lt;&lt;</span><br><span class="line">[I 2018-01-02 16:24:02] concurrency model: async</span><br><span class="line">[I 2018-01-02 16:24:02] masquerade (NAT) address: None</span><br><span class="line">[I 2018-01-02 16:24:02] passive ports: None</span><br></pre></td></tr></table></figure><p>至此一个简单的 FTP 服务器已经搭建完成，访问 <a href="ftp://IP">ftp://IP</a>:PORT 即可。例如类似下面的 URL：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ftp://192.168.100.49:2121</span><br></pre></td></tr></table></figure><blockquote><p>默认 IP 为本机所有可用 IP，端口为 2121。<br />默认登陆方式为匿名。<br />默认权限是只读。</p></blockquote><p>如果你要建一个有认证且可写的 FTP 服务器，可使用类似以下指令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python -m pyftpdlib -i 192.168.100.49 -w -d /tmp/ -u mike -P 123456</span></span><br></pre></td></tr></table></figure><h3 id="小插曲"><a class="markdownIt-Anchor" href="#小插曲"></a> 小插曲</h3><hr /><p>测试时一直使用密码 000000 这样的弱密码做认证密码，在客户端登陆时一直提示认证失败。看来 Pyftpdlib 模块还做了基本的安全策略哟，不错的！</p><p>常用可选参数说明:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-i 指定IP地址（默认为本机所有可用 IP 地址）</span><br><span class="line">-p 指定端口（默认为 2121）</span><br><span class="line">-w 写权限（默认为只读）</span><br><span class="line">-d 指定目录 （默认为当前目录）</span><br><span class="line">-u 指定登录用户名</span><br><span class="line">-P 指定登录密码</span><br></pre></td></tr></table></figure><p>更多参数可以使用以下指令查询：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python -m pyftpdlib --<span class="built_in">help</span></span></span><br><span class="line"></span><br><span class="line">Usage: python -m pyftpdlib [options]</span><br><span class="line"></span><br><span class="line">Start a stand alone anonymous FTP server.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -h, --help</span><br><span class="line">     show this help message and exit</span><br><span class="line"></span><br><span class="line">  -i ADDRESS, --interface=ADDRESS</span><br><span class="line">     specify the interface to run on (default all interfaces)</span><br><span class="line"></span><br><span class="line">  -p PORT, --port=PORT</span><br><span class="line">     specify port number to run on (default 2121)</span><br><span class="line"></span><br><span class="line">  -w, --write</span><br><span class="line">     grants write access for logged in user (default read-only)</span><br><span class="line"></span><br><span class="line">  -d FOLDER, --directory=FOLDER</span><br><span class="line">     specify the directory to share (default current directory)</span><br><span class="line"></span><br><span class="line">  -n ADDRESS, --nat-address=ADDRESS</span><br><span class="line">     the NAT address to use for passive connections</span><br><span class="line"></span><br><span class="line">  -r FROM-TO, --range=FROM-TO</span><br><span class="line">     the range of TCP ports to use for passive connections (e.g. -r 8000-9000)</span><br><span class="line"></span><br><span class="line">  -D, --debug</span><br><span class="line">     enable DEBUG logging evel</span><br><span class="line"></span><br><span class="line">  -v, --version</span><br><span class="line">     print pyftpdlib version and exit</span><br><span class="line"></span><br><span class="line">  -V, --verbose</span><br><span class="line">     activate a more verbose logging</span><br><span class="line"></span><br><span class="line">  -u USERNAME, --username=USERNAME</span><br><span class="line">     specify username to login with (anonymous login will be disabled and password required if supplied)</span><br><span class="line"></span><br><span class="line">  -P PASSWORD, --password=PASSWORD</span><br><span class="line">     specify a password to login with (username required to be useful)</span><br></pre></td></tr></table></figure><p>如果你需卸载 Pyftpdlib 模块，可以通过以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pip uninstall pyftpdlib</span></span><br></pre></td></tr></table></figure><p>参考文档</p><p><a href="http://www.google.com" target="_blank" rel="noopener">http://www.google.com</a><br /><a href="https://coolshell.cn/articles/1480.html" target="_blank" rel="noopener">https://coolshell.cn/articles/1480.html</a><br /><a href="http://pyftpdlib.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener">http://pyftpdlib.readthedocs.io/en/latest/index.html</a><br /><a href="https://my.oschina.net/kangvcar/blog/1599867" target="_blank" rel="noopener">https://my.oschina.net/kangvcar/blog/1599867</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>与父亲的观点不合</title>
      <link href="/2014/12/30/2014/%E4%B8%8E%E7%88%B6%E4%BA%B2%E7%9A%84%E8%A7%82%E7%82%B9%E4%B8%8D%E5%90%88/"/>
      <url>/2014/12/30/2014/%E4%B8%8E%E7%88%B6%E4%BA%B2%E7%9A%84%E8%A7%82%E7%82%B9%E4%B8%8D%E5%90%88/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p><span style="color:green;font-size:14px">清明节到了，它叫醒了我过去的回忆，这是我大三的一篇日记。</p></blockquote><hr /><h4 id="日记内容"><a class="markdownIt-Anchor" href="#日记内容"></a> 日记内容</h4><p>父亲生病住院，母亲咳嗽。我姐喜得千金，后天办喜事，哥和嫂子四口在东边住。<br />家庭琐事，却也是烦心事。父亲上午还在训话，我不会混人事，不知道跟村里在农大上班的董老师交往。<br />可是我不敢与之理论，一是我不知我的那些个想法是对还是错，二是我真的太倔太傲，或许是穷人固有的那种属性吧，我认为自己做事情之前必须先掂量自己的轻重，再去扮演怎样的一个高度。而现实呢，或许一切是我自卑的原因吧。<br />好久没有学习，好久没有写日记，好久没有自省，我退步了，人也变得懒惰了。</p><video id="video" style="width:100%" controls="" preload="none" poster="https://res.cloudinary.com/devezhang/video/upload/v1585416894/blog/laugh_g9ugae.mp4"><source id="mp4" src="https://res.cloudinary.com/devezhang/video/upload/v1585416894/blog/laugh_g9ugae.mp4" type="video/mp4"></video><hr /><blockquote><p><span style="color:gray;font-size:14px">关注公众号「码农日志」，每天带你发车。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 回忆录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高四复习时的一篇日记</title>
      <link href="/2011/10/16/2011/%E9%AB%98%E5%9B%9B%E5%A4%8D%E4%B9%A0%E6%97%B6%E7%9A%84%E4%B8%80%E7%AF%87%E6%97%A5%E8%AE%B0/"/>
      <url>/2011/10/16/2011/%E9%AB%98%E5%9B%9B%E5%A4%8D%E4%B9%A0%E6%97%B6%E7%9A%84%E4%B8%80%E7%AF%87%E6%97%A5%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p><span style="color:green;font-size:14px">如果这一年的奋斗能给自己的内心一点安慰，我会拼死去完成使命，只为给父母，给自己一个交代。</p></blockquote><hr /><h5 id="恩师训言"><a class="markdownIt-Anchor" href="#恩师训言"></a> 恩师训言</h5><p>如果你不想上就赶紧走人！    By—邵剑（高四班主任）<br />别再无所谓了，时间很紧迫，早一步迈过这个坎。    By—赵向前（高三班主任）</p><p>今天星期日，第三次月考感想。</p><p>该怎么办？物理不及格，英语完形填空将近错完，甚至交卷时仍未作完！听着高一时与自己成绩相当的同学，如今我已距他千里之外，平时总说是这两三年的沉沦导致了今日的局面，为何自己却不采取一些补救的措施。为什么在高考过后，自己的决心那么大，总不能坚持，真的很难受。时常亲身感受到这个世界的号角，究竟该如何挽救！</p><p>明天又是新的一周，学生时代，渐渐大了的自己那么真切的感受到时间的流速，心中声嘶力竭的悲哀有谁听到。</p><p>从今往后：</p><ol><li>手机只作听歌，休息看书用。若上网，自己他妈的就不是人，不要脸！</li><li>把每一天当作一生来对待，好好珍惜，坐在那里就学习，哪怕就记住一个单词。</li><li>多读英语句子，卷子，做完数学，化学，物理题后要回想是否能重组一个思路，万不可过后烟消云散。</li></ol><p>我很后悔两年的堕落，虽然人不可后悔。我很害怕，努力挽不回那些期待的人想要的结果。</p><p>如果你还要脸，就不应该每天拿着手机上网，浪费大量的时间。<br />如果你还要脸，此刻你就应该拿起书本开始学习。因为是你以前丢尽了脸，而今你还有什么理由不要脸！<br />如果你能长一点脸，你永远不该去网吧那种地方！你以前的龌龊事难道给你的身心伤害还不够吗！醒醒吧，看看你爸，他年纪大了，已经需要你照顾他了，可是你却仍在燃烧他的生命，却不去努力，去那种地方，你有凭良心吗！想想妈妈的脸庞，要知道她是你最亲爱的人哪！<br />如果你能长一点脸，你就应该将那些感情小事放下一边，好好地痛彻痛悟！看看你的成绩，真不知道你的骄傲从何而来！<br />如果你还要脸，从此刻起做一个努力向上的好学生，把从前的都忘记，现在你站在起跑线上，所以有足够的动力去战胜别人。<br />如果你还要脸，请记住今天说的所有话！</p><p>晚自习于寝室内</p><hr /><blockquote><p><span style="color:gray;font-size:14px">关注公众号「码农日志」，每天带你发车。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 回忆录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>分类</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>关于自己</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="一句话"><a class="markdownIt-Anchor" href="#一句话"></a> 一句话</h3><blockquote><p>Talk is cheap, show me the code.</p></blockquote><h3 id="关于我"><a class="markdownIt-Anchor" href="#关于我"></a> 关于我</h3><blockquote><p>一个莫名其妙的，喜欢敲代码，喜欢研究技术的，表面上高冷、不苟言笑的，</p><p>偶尔又嬉皮笑脸，偶尔又特立独行的，双重性格的技术爱好者！</p><p>乐于认知输出，技术分享。</p></blockquote><h3 id="兴趣方向"><a class="markdownIt-Anchor" href="#兴趣方向"></a> 兴趣方向</h3><blockquote><p>Python、C++、Web。</p></blockquote><h3 id="参与社区"><a class="markdownIt-Anchor" href="#参与社区"></a> 参与社区</h3><blockquote><p>Github:<a href="https://github.com/PyElite" target="_blank" rel="noopener">https://github.com/PyElite</a></p><p>阿里云栖社区:<a href="https://yq.aliyun.com/u/devezhang" target="_blank" rel="noopener">https://yq.aliyun.com/u/devezhang</a></p></blockquote><h3 id="联系我"><a class="markdownIt-Anchor" href="#联系我"></a> 联系我</h3><blockquote><p>Email: <a href="mailto:devezhang@gmail.com">devezhang@gmail.com</a></p><p>公众号:<br /><img src="/img/loading.gif" class="lazyload" data-src="https://pic.downk.cc/item/5ea54751c2a9a83be5d63afb.jpg"  alt="home_posts_tag-true" /></p></blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>友情链接</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>聆听内心的声音</title>
      <link href="/music/index.html"/>
      <url>/music/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="经典音乐"><a class="markdownIt-Anchor" href="#经典音乐"></a> 经典音乐</h2>    <div id="aplayer-RcnfEwow" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="3048372179" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="true" data-mutex="true" data-listmaxheight="340px" data-preload="none" data-theme="#ad7a86"    ></div><h2 id="coding-music"><a class="markdownIt-Anchor" href="#coding-music"></a> Coding Music</h2>    <div id="aplayer-vgdkqOwi" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="2352005537" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="none" data-theme="#ad7a86"    ></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>留言板 | 畅所欲言</title>
      <link href="/msgboard/index.html"/>
      <url>/msgboard/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>有什么想说的？<br />有什么想问的？<br />有什么想吐槽的？<br />可以在下面留言…</p></blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>标签</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>记录幸福，留住瞬间</title>
      <link href="/photos/index.html"/>
      <url>/photos/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img" src='https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/IMG_0191.JPG'>  <figcaption>  <div class="gallery-group-name">北京</div>  <p>北京往事</p>  <a href='/photos/%E8%AE%B0%E5%BD%95%E5%8C%97%E4%BA%AC'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img" src='https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png'>  <figcaption>  <div class="gallery-group-name">2019</div>  <p>2019所见所得</p>  <a href='/photos/%E8%AE%B0%E5%BD%952019'></a>  </figcaption>  </figure>  </div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>记录2019</title>
      <link href="/photos/%E8%AE%B0%E5%BD%952019/index.html"/>
      <url>/photos/%E8%AE%B0%E5%BD%952019/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div class="justified-gallery"><p><img src="/img/loading.gif" class="lazyload" data-src="https://gratisography.com/wp-content/uploads/2019/10/gratisography-scary-pumpkin-hand-900x600.jpg"  alt="" /><br /><img src="/img/loading.gif" class="lazyload" data-src="https://gratisography.com/wp-content/uploads/2019/10/gratisography-fresh-fish-dinner-900x600.jpg"  alt="" /><br /><img src="/img/loading.gif" class="lazyload" data-src="https://gratisography.com/wp-content/uploads/2019/10/gratisography-mountain-cloud-landscape-900x600.jpg"  alt="" /><br /><img src="/img/loading.gif" class="lazyload" data-src="https://picjumbo.com/wp-content/uploads/iphone-free-stock-photos-2210x3315.jpg"  alt="" /><br /><img src="/img/loading.gif" class="lazyload" data-src="https://picjumbo.com/wp-content/uploads/young-millennial-girl-drinking-lemonade-and-overlooking-the-city-2210x1473.jpg"  alt="" /><br /><img src="/img/loading.gif" class="lazyload" data-src="https://picjumbo.com/wp-content/uploads/modern-graphic-designer-essentials_free_stock_photos_picjumbo_HNCK4919-2210x1474.jpg"  alt="" /></p>          </div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>记录北京</title>
      <link href="/photos/%E8%AE%B0%E5%BD%95%E5%8C%97%E4%BA%AC/index.html"/>
      <url>/photos/%E8%AE%B0%E5%BD%95%E5%8C%97%E4%BA%AC/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div class="justified-gallery"><p><img src="/img/loading.gif" class="lazyload" data-src="https://gratisography.com/wp-content/uploads/2019/10/gratisography-scary-pumpkin-hand-900x600.jpg"  alt="" /><br /><img src="/img/loading.gif" class="lazyload" data-src="https://gratisography.com/wp-content/uploads/2019/10/gratisography-fresh-fish-dinner-900x600.jpg"  alt="" /><br /><img src="/img/loading.gif" class="lazyload" data-src="https://gratisography.com/wp-content/uploads/2019/10/gratisography-mountain-cloud-landscape-900x600.jpg"  alt="" /><br /><img src="/img/loading.gif" class="lazyload" data-src="https://picjumbo.com/wp-content/uploads/iphone-free-stock-photos-2210x3315.jpg"  alt="" /><br /><img src="/img/loading.gif" class="lazyload" data-src="https://picjumbo.com/wp-content/uploads/young-millennial-girl-drinking-lemonade-and-overlooking-the-city-2210x1473.jpg"  alt="" /><br /><img src="/img/loading.gif" class="lazyload" data-src="https://picjumbo.com/wp-content/uploads/modern-graphic-designer-essentials_free_stock_photos_picjumbo_HNCK4919-2210x1474.jpg"  alt="" /></p>          </div>]]></content>
      
    </entry>
    
    
  
</search>
